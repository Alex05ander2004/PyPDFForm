# 2025-05-24: V3 Announcements

This article contains import information about the upcoming version 3.0.0 release.

## TL;DR

PyPDFForm version 3.0.0 is tentatively scheduled to be released on June 24, 2025.
This major release will contain changes that are backward incompatible.
If you do not wish to trigger any downstream regression, pin your version to 2.5.0 or lower ASAP.

Below is a list of said changes:

* `FormWrapper` is removed. All of its functionalities are migrated to `PdfWrapper`. From now on the `fill` method of `PdfWrapper` will behave just like it did in `FormWrapper`.
* Filling while enabling `adobe_mode` has changed. Now instead of passing `adobe_mode` as a keyword argument to the `fill` method, you pass `adobe_mode` as a keyword argument when instantiating a `PdfWrapper` object.
* Setting font properties globally (e.g., `PdfWrapper("sample_template.pdf", global_font_size=20)`) is not supported anymore. Font properties will now be set through each widget.
* `register_font` is now a object level method instead of a class method.
* `PdfWrapper.preview` is removed.
* Changing `button_style` for existed checkboxes or radio buttons is not supported anymore. (Specifying `button_style` when creating them is still supported)
* Render widgets flag `render_widgets` is removed.

## Why the changes?

About five years ago when I first started working on this project,  I was no where near as experience as today and I stumbled on some technical challenges during the initial POC. One of such challenges was displaying filled text fields in Adobe Acrobat, specifically, text content may only be visible when the text field is selected.

This behavior of Adobe Acrobat, plus I wanted to support as many PDF viewing applications as possible, made me decide to approach the project's implementation through a watermark approach. Basically, instead of directly manipulate the form field data, the watermark approach only collects information about each form field. Such information can be the coordinate of the field, what font, font size, or font color it should be filled with, etc. Once done, it will then remove all form fields, create a watermark based on the PDF, draws the content of what should be filled on the watermark, and finally merge the watermark onto the original PDF. This approach, despite will remove all existed fields and make the filled content appear to be always "flattened", ensures that the filled PDFs only consists raw PDF string data and can be viewed by any PDF viewing applications. The project has since evolved with this approach, adding rich features such as customizing different form field styles and even creating form fields. As I'm writing this article, the watermark approach is still the bare bone of the project in v2.5.0, and that is the `PdfWrapper`.

About a year ago, as more users started using the project, I was assisted by the community and finally able to break through the text field issue on Adobe Acrobat that has existed since the first day of the project. This has made it possible to fill a PDF form by manipulating the form field data directly, which brings a number of advantages such as being able to leave the form fields editable after filling, not having to come up with complex arithmetics for calculating coordinates and resolutions, and not having to merge watermarks with the original PDF which is a huge performance boost. However, the project has evolved too far at this point and some of the features supported by the watermark approach, for example changing font properties, cannot be rewritten using the new approach easily, at least at the time. So instead of completely replacing the watermark approach, I took a step back and decided to implement a new and simpler set of APIs that supports this new filling paradigm. This is the `FormWrapper`.

The addition of `FormWrapper` has proved to be a right move, as even more users are attracted thanks to it being able to truly "fill" a PDF form as if it were filled manually. `PdfWrapper` and `FormWrapper` have co-existed since then. However, several events have occured recently such that new changes, even more major and ground breaking, need to happen to the project in order to adapt. First, I noticed that a lot of users, despite still using some of the features provided by `PdfWrapper` such as creating widgets or change widget names, tend to do the final step of actually filling a PDF form using `FormWrapper`. In these cases I had to suggest them to first do what they need to do using `PdfWrapper`, take the stream from the `PdfWrapper` object, and then feed that into a `FormWrapper` to do the final filling. This process to me seems not quite user friendly. Secondly, I implemented some very complicated arithmetic logics to calculate where and how form field data should be drawn when filling using the watermark approach. But I think I have hit my limit, as I could not figure out how to support landscape mode PDFs due to the orientations. This makes switching off watermark approach even more appealing. Finally, during my recent researches, the features that used to only be possible through the watermark approach, have become more apparent on how to implement through directly manipulating form field data.

With everything above said, I think the time has become mature to implement the next major version of PyPDFForm. This is what version 3.0.0 is.
